!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n){var r=t.data,o=t.handleCardClick,i=t.handleCardDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=r.name,this._link=r.link,this._likes=r.likes,this._userId=r.owner._id,this._handleCardClick=o,this._handleCardDelete=i,this._templateSelector=n}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place").cloneNode(!0)}},{key:"_setEventListeners",value:function(e){var t=this;e.querySelector(".button_action_like").addEventListener("click",(function(e){e.target.classList.toggle("button_action_like--active")})),e.querySelector(".button_action_trash").addEventListener("click",(function(){t._handleCardDelete(),e.remove()})),e.querySelector(".place__image").addEventListener("click",(function(){t._handleCardClick()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".place__title").textContent=this._name,this._element.querySelector(".place__image").setAttribute("src",this._link),this._element.querySelector(".place__image").setAttribute("alt",this._name),this._setEventListeners(this._element),this._element}},{key:"_updateLikes",value:function(){this._element.querySelector(".like-elements__count").textContent=this._likes.length.toString()}},{key:"isOwner",value:function(e){return this._userId==e}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(n.querySelectorAll(t.inputSelector)),this._buttonElement=n.querySelector(t.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.textContent=t,n.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.classList.add(this._config.inactiveButtonClass):this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners(),this._toggleButtonState()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._form=document.querySelector(".form"),this._handlerOnEsc=this._handleEscClose.bind(this),this._handlerSupClose=this._handleSuperClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._form.classList.add("form_mode_active"),this.setEventListeners()}},{key:"close",value:function(){this._form.classList.remove("form_mode_active"),this._removeListeners()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleSuperClose",value:function(e){this._popup.contains(e.target)||this.close()}},{key:"_removeListeners",value:function(){document.removeEventListener("keydown",this._handlerOnEsc),this._form.removeEventListener("click",this._handlerSupClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".button_action_close").addEventListener("click",(function(){e.close()})),this._form.addEventListener("click",this._handlerSupClose),document.addEventListener("keydown",this._handlerOnEsc)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function u(e,t){var n,r=e.submitCallback;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._submitCallback=r,n._submitButton=n._popup.querySelector(".button_action_create"),n._handlerSubmit=n._handleSubmit.bind(y(n)),n._handlerSubmitOnEnter=n._hanldeSubmitOnEnter.bind(y(n)),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._popup.querySelectorAll(".form__input").forEach((function(t){e[t.name]=t.value})),e}},{key:"_reset",value:function(){this._popup.querySelectorAll(".form__input").forEach((function(e){e.value=""}))}},{key:"open",value:function(){f(m(u.prototype),"open",this).call(this),this.setEventListeners(),this._popup.classList.add("form__set_mode_active")}},{key:"close",value:function(){f(m(u.prototype),"close",this).call(this),this._removeListeners(),this._popup.classList.remove("form__set_mode_active"),this._reset()}},{key:"_handleSubmit",value:function(e){e.preventDefault(),this._submitCallback()}},{key:"_hanldeSubmitOnEnter",value:function(e){"Enter"===e.key&&(e.preventDefault(),this._submitButton.classList.contains("button_action_create-inactive")||this._submitCallback())}},{key:"setEventListeners",value:function(){f(m(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",this._handlerSubmit),document.addEventListener("keydown",this._handlerSubmitOnEnter)}},{key:"_removeListeners",value:function(){f(m(u.prototype),"_removeListeners",this).call(this),this._popup.removeEventListener("submit",this._handlerSubmit),document.removeEventListener("keydown",this._handlerSubmitOnEnter)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(a);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image"),t._title=t._popup.querySelector(".popup__title"),t}return t=u,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;d(S(u.prototype),"open",this).call(this),this._popup.classList.add("popup_mode_active"),this._image.src=n,this._title.textContent=t,this._image.alt=n}},{key:"close",value:function(){d(S(u.prototype),"close",this).call(this),this._popup.classList.remove("popup_mode_active")}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(a);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var w=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var O=function(){function e(t){var n=t.nameSelector,r=t.employmentSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._employmentElement=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,employment:this._employmentElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;this._nameElement.textContent=t,this._employmentElement.textContent=n}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserData",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserId",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){return e._id}))}},{key:"updateUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t,link:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I="#place-template",T=document.querySelector("#profile"),U=document.querySelector("#image"),R=document.querySelector("#name-input"),B=document.querySelector("#employment-input"),D=document.querySelector(".button_action_edit"),x=document.querySelector(".button_action_add"),V=document.querySelector("#submit-profile"),A=document.querySelector("#submit-image"),N=new g(".popup"),J=new O({nameSelector:".profile__username",employmentSelector:".profile__useremployment"}),z=new q({baseUrl:"https://around.nomoreparties.co/v1/web_es_09",headers:{authorization:"e0d01e4f-01c5-4081-b9ff-c482a3e73038","Content-Type":"application/json"}});z.getUserData().then((function(e){console.log(e),J.setUserInfo(e)})).catch((function(e){console.log(e)}));var H=new w({renderer:function(e){var t=new n({data:e,handleCardClick:function(){N.open(e)},handleCardDelete:function(){z.getUserId().then((function(e){var n=t._userId===e;console.log(e),console.log(n),n?console.log("Todo funciona"):console.log("No funciona")})).catch((function(e){console.log(e)}))}},I),r=t.generateCard();H.addItem(r)}},".places");z.getInitialCards().then((function(e){console.log(e),H.rendererItems(e)})).catch((function(e){console.log(e)}));var M=new h({submitCallback:function(){var e=M._getInputValues();z.updateUserInfo(e).then((function(e){J.setUserInfo(e),M.close(),console.log(e)})).catch((function(e){console.log(e)}))}},"#profile"),F=new h({submitCallback:function(){var e=F._getInputValues();console.log(e),z.addCard(e).then((function(e){var t=new n({data:e,handleCardClick:function(){N.open(e)}},I).generateCard();H.addItem(t),F.close()})).catch((function(e){console.log(e)}))}},"#image"),G=new i({formSelector:".form__set",inputSelector:".form__input",submitButtonSelector:"#submit-profile",inactiveButtonClass:"button_action_create-inactive",inputErrorClass:"form__input_type-error",errorClass:"form__input-error_active"},T),K=new i({formSelector:".form__set",inputSelector:".form__input",submitButtonSelector:"#submit-image",inactiveButtonClass:"button_action_create-inactive",inputErrorClass:"form__input_type-error",errorClass:"form__input-error_active"},U);D.addEventListener("click",(function(){var e=J.getUserInfo();R.value=e.name,B.value=e.employment,G.enableValidation(),M.open()})),x.addEventListener("click",(function(){F.open(),K.enableValidation()})),V.addEventListener("click",(function(e){e.preventDefault(),M._submitCallback()})),A.addEventListener("click",(function(e){e.preventDefault(),F._submitCallback()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUQsR0FDSixJQU9NQyxFQVBpQixJQUFJeEwsRUFBSyxDQUM5QkcsS0FBTW9MLEVBQ05uTCxnQkFBaUIsV0FDZnVKLEVBQWVXLEtBQUtpQixFQUN0QixHQUNDckMsR0FFNEJ3QixlQUMvQkwsRUFBZ0JNLFFBQVFhLEdBQ3hCSixFQUFrQmhHLE9BQ3BCLElBQ0MrRSxPQUFNLFNBQUFDLEdBQ0xKLFFBQVFDLElBQUlHLEVBQ2QsR0FDRixHQUVBLFVBR0lxQixFQUF1QixJQUFJL0ksRUR4SFAsQ0FDeEJnSixhQUFjLGFBQ2R2SSxjQUFlLGVBQ2ZFLHFCQUFzQixrQkFDdEJnQixvQkFBcUIsZ0NBQ3JCVCxnQkFBaUIseUJBQ2pCQyxXQUFZLDRCQ2tIb0RzRixHQUU1RHdDLEVBQXFCLElBQUlqSixFRGpIUCxDQUN0QmdKLGFBQWMsYUFDZHZJLGNBQWUsZUFDZkUscUJBQXNCLGdCQUN0QmdCLG9CQUFxQixnQ0FDckJULGdCQUFpQix5QkFDakJDLFdBQVksNEJDMkdnRHVGLEdBRzlERyxFQUFXM0gsaUJBQWlCLFNBQVMsV0FDbkMsSUFBTWdLLEVBQWtCaEMsRUFBU2lDLGNBQ2pDeEMsRUFBVWhJLE1BQVF1SyxFQUFnQm5MLEtBQ2xDNkksRUFBZ0JqSSxNQUFRdUssRUFBZ0I5RCxXQUN4QzJELEVBQXFCSyxtQkFDckJmLEVBQWtCVCxNQUNwQixJQUVBZCxFQUFVNUgsaUJBQWlCLFNBQVMsV0FDbEN3SixFQUFrQmQsT0FDbEJxQixFQUFtQkcsa0JBQ3JCLElBR0FyQyxFQUFvQjdILGlCQUFpQixTQUFTLFNBQUNDLEdBQzdDQSxFQUFJNkUsaUJBQ0pxRSxFQUFrQmxGLGlCQUNwQixJQUVBNkQsRUFBa0I5SCxpQkFBaUIsU0FBUyxTQUFDQyxHQUMzQ0EsRUFBSTZFLGlCQUNKMEUsRUFBa0J2RixpQkFDcEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlQ2FyZERlbGV0ZSB9LCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl91c2VySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VcIikuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoY2FyZEVsZW1lbnQpIHtcbiAgICBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9hY3Rpb25fbGlrZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiYnV0dG9uX2FjdGlvbl9saWtlLS1hY3RpdmVcIik7XG4gICAgfSlcblxuICAgIGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2FjdGlvbl90cmFzaFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSgpO1xuICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfSlcblxuICAgIGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2ltYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICB9KVxuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWFnZVwiKS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fbGluayk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWFnZVwiKS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgdGhpcy5fbmFtZSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyh0aGlzLl9lbGVtZW50KTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX3VwZGF0ZUxpa2VzKCkge1xuICAgIGNvbnN0IGxpa2VDb3VudEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlrZS1lbGVtZW50c19fY291bnRcIik7XG4gICAgbGlrZUNvdW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aC50b1N0cmluZygpO1xuICB9XG5cbiAgaXNPd25lcih1c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlcklkID09IHVzZXJJZDtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZighaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjsiLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZXJPbkVzYyA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVyU3VwQ2xvc2UgPSB0aGlzLl9oYW5kbGVTdXBlckNsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fZm9ybS5jbGFzc0xpc3QuYWRkKFwiZm9ybV9tb2RlX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9tb2RlX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1cGVyQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZighdGhpcy5fcG9wdXAuY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUxpc3RlbmVycygpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZXJPbkVzYyk7XHJcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVyU3VwQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9hY3Rpb25fY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZXJTdXBDbG9zZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVyT25Fc2MpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgc3VibWl0Q2FsbGJhY2sgfSwgcG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5idXR0b25fYWN0aW9uX2NyZWF0ZVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXQgPSB0aGlzLl9oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRPbkVudGVyID0gdGhpcy5faGFubGRlU3VibWl0T25FbnRlci5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGNvbnN0IGlucHV0RWxlbWVudHMgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG5cclxuICAgIGlucHV0RWxlbWVudHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBfcmVzZXQoKSB7XHJcbiAgICBjb25zdCBpbnB1dEVsZW1lbnRzID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKTtcclxuICAgIGlucHV0RWxlbWVudHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJmb3JtX19zZXRfbW9kZV9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19zZXRfbW9kZV9hY3RpdmVcIik7XHJcbiAgICB0aGlzLl9yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdChldnQpIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5fc3VibWl0Q2FsbGJhY2soKTtcclxuICB9XHJcblxyXG4gIF9oYW5sZGVTdWJtaXRPbkVudGVyKGV2dCkge1xyXG4gICAgaWYoZXZ0LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZighdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImJ1dHRvbl9hY3Rpb25fY3JlYXRlLWluYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0Q2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVyU3VibWl0KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZXJTdWJtaXRPbkVudGVyKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fcmVtb3ZlTGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZXJTdWJtaXQpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlclN1Ym1pdE9uRW50ZXIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKHsgbmFtZSwgbGlua30pIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9tb2RlX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBsaW5rO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX21vZGVfYWN0aXZlXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgLy90aGlzLml0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL03DqXRvZG8gcMO6YmxpY28gcXVlIHJlbmRlcml6YSB0b2RvcyBsb3MgZWxlbWVudG9zIGRlIGxhIHDDoWdpbmFcclxuICByZW5kZXJlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uOyIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZW1wbG95bWVudFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZW1wbG95bWVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVtcGxveW1lbnRTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudDtcclxuICAgIGNvbnN0IGVtcGxveW1lbnQgPSB0aGlzLl9lbXBsb3ltZW50RWxlbWVudC50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB7IG5hbWUsIGVtcGxveW1lbnQgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKCB7bmFtZSwgYWJvdXR9ICkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fZW1wbG95bWVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvOyIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgaWYocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gIH1cblxuICBnZXRVc2VyRGF0YSgpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgIGlmKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICB9XG5cbiAgZ2V0VXNlcklkKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgaWYocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pXG4gICAgLnRoZW4odXNlckRhdGEgPT4ge1xuICAgICAgcmV0dXJuIHVzZXJEYXRhLl9pZDtcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgYWJvdXQgfSlcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICBpZihyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSlcbiAgfVxuXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSlcbiAgICB9KVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICBpZihyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpOyIsImNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gXCIjcGxhY2UtdGVtcGxhdGVcIjtcclxuY29uc3QgcHJvZmlsZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlXCIpO1xyXG5jb25zdCBpbWFnZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZVwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lLWlucHV0XCIpO1xyXG5jb25zdCBlbXBsb3ltZW50SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtcGxveW1lbnQtaW5wdXRcIik7XHJcbmNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9hY3Rpb25fZWRpdFwiKTtcclxuY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fYWN0aW9uX2FkZFwiKTtcclxuY29uc3Qgc3VibWl0QnV0dG9uUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXQtcHJvZmlsZScpO1xyXG5jb25zdCBzdWJtaXRCdXR0b25JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXQtaW1hZ2UnKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybV9fc2V0XCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIjc3VibWl0LXByb2ZpbGVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImJ1dHRvbl9hY3Rpb25fY3JlYXRlLWluYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGUtZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiXHJcbn07XHJcblxyXG5jb25zdCBpbWFnZUZvcm1Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtX19zZXRcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIiNzdWJtaXQtaW1hZ2VcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImJ1dHRvbl9hY3Rpb25fY3JlYXRlLWluYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGUtZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiXHJcbn07XHJcblxyXG5leHBvcnQgeyBjYXJkVGVtcGxhdGVTZWxlY3RvciwgaW1hZ2VGb3JtRWxlbWVudCAsIGJ1dHRvbkVkaXQsIGJ1dHRvbkFkZCwgc3VibWl0QnV0dG9uUHJvZmlsZSxcclxuc3VibWl0QnV0dG9uSW1hZ2UsIG5hbWVJbnB1dCwgZW1wbG95bWVudElucHV0ICwgcHJvZmlsZUZvcm1Db25maWcsIGltYWdlRm9ybUNvbmZpZywgcHJvZmlsZUZvcm1FbGVtZW50IH07IiwiLy9pbXBvcnRhY2lvbiBkZSBjc3NcbmltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbi8vaW1wb3J0YWNpb24gZGUgY2xhc2VzXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG4vL2ltcG9ydGFjaW9uIGRlIGNvbnN0YW50ZXNcbmltcG9ydCB7IGJ1dHRvbkFkZCwgYnV0dG9uRWRpdCwgY2FyZFRlbXBsYXRlU2VsZWN0b3IsIGVtcGxveW1lbnRJbnB1dCwgaW1hZ2VGb3JtQ29uZmlnLCBpbWFnZUZvcm1FbGVtZW50LCBuYW1lSW5wdXQsXG4gIHByb2ZpbGVGb3JtQ29uZmlnLCBwcm9maWxlRm9ybUVsZW1lbnQsIHN1Ym1pdEJ1dHRvbkltYWdlLFxuICBzdWJtaXRCdXR0b25Qcm9maWxlIH0gZnJvbSBcIi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vY3JlYWNpb24gZGUgaW5zdGFuY2lhc1xuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cFwiKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3VzZXJuYW1lXCIsIGVtcGxveW1lbnRTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlcmVtcGxveW1lbnRcIiB9KTtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDlcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiZTBkMDFlNGYtMDFjNS00MDgxLWI5ZmYtYzQ4MmEzZTczMDM4XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7XG5cbmFwaS5nZXRVc2VyRGF0YSgpXG4udGhlbihkYXRhID0+IHtcbiAgY29uc29sZS5sb2coZGF0YSk7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xufSlcbi5jYXRjaChlcnIgPT4ge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufSlcblxuY29uc3QgaW5pdGlhbENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKHtcbiAgICAgIGRhdGE6IGl0ZW0sXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihpdGVtKTtcbiAgICAgIH1cbiAgICAgICwgaGFuZGxlQ2FyZERlbGV0ZTogKCkgPT4ge1xuICAgICAgICAvL2NvbnN0IGlzT3duZXIgPSBjYXJkRWxlbWVudC5pc093bmVyKHVzZXJJZCk7XG5cbiAgICAgICAgYXBpLmdldFVzZXJJZCgpXG4gICAgICAgIC50aGVuKGlkID0+IHtcbiAgICAgICAgICBjb25zdCBpc093bmVyID0gY2FyZEVsZW1lbnQuX3VzZXJJZCA9PT0gaWQ7XG4gICAgICAgICAgY29uc29sZS5sb2coaWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGlzT3duZXIpO1xuXG4gICAgICAgICAgaWYoaXNPd25lcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb2RvIGZ1bmNpb25hXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGZ1bmNpb25hXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSlcblxuXG4gICAgICB9XG4gICAgfVxuICAgICwgY2FyZFRlbXBsYXRlU2VsZWN0b3IpO1xuICAgIGNvbnN0IGNhcmQgPSBjYXJkRWxlbWVudC5nZW5lcmF0ZUNhcmQoKTtcbiAgICBpbml0aWFsQ2FyZExpc3QuYWRkSXRlbShjYXJkKTtcbiAgfVxufVxuLCBcIi5wbGFjZXNcIik7XG5cbmFwaS5nZXRJbml0aWFsQ2FyZHMoKVxuLnRoZW4oY2FyZHMgPT4ge1xuICBjb25zb2xlLmxvZyhjYXJkcyk7XG5cbiAgaW5pdGlhbENhcmRMaXN0LnJlbmRlcmVySXRlbXMoY2FyZHMpO1xufSlcbi5jYXRjaChlcnIgPT4ge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufSk7XG5cbmNvbnN0IHBvcHVwV2l0aFVzZXJJbmZvID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBzdWJtaXRDYWxsYmFjazogKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gcG9wdXBXaXRoVXNlckluZm8uX2dldElucHV0VmFsdWVzKCk7XG5cbiAgICBhcGkudXBkYXRlVXNlckluZm8oZm9ybURhdGEpXG4gICAgLnRoZW4odXBkYXRlVXNlckRhdGEgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXBkYXRlVXNlckRhdGEpO1xuICAgICAgcG9wdXBXaXRoVXNlckluZm8uY2xvc2UoKTtcbiAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZVVzZXJEYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICB9XG59XG4sIFwiI3Byb2ZpbGVcIlxuKTtcblxuY29uc3QgcG9wdXBXaXRoQ2FyZEluZm8gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHN1Ym1pdENhbGxiYWNrOiAoKSA9PiB7XG4gICAgY29uc3QgY2FyZERhdGEgPSBwb3B1cFdpdGhDYXJkSW5mby5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICBjb25zb2xlLmxvZyhjYXJkRGF0YSk7XG5cbiAgICBhcGkuYWRkQ2FyZChjYXJkRGF0YSlcbiAgICAudGhlbihuZXdDYXJkRGF0YSA9PiB7XG4gICAgICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IG5ldyBDYXJkKHtcbiAgICAgICAgZGF0YTogbmV3Q2FyZERhdGEsXG4gICAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4obmV3Q2FyZERhdGEpO1xuICAgICAgICB9XG4gICAgICB9LCBjYXJkVGVtcGxhdGVTZWxlY3Rvcik7XG5cbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXdDYXJkRWxlbWVudC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgIGluaXRpYWxDYXJkTGlzdC5hZGRJdGVtKG5ld0NhcmQpO1xuICAgICAgcG9wdXBXaXRoQ2FyZEluZm8uY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICB9XG59XG4sIFwiI2ltYWdlXCJcbik7XG5cbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IocHJvZmlsZUZvcm1Db25maWcsIHByb2ZpbGVGb3JtRWxlbWVudCk7XG5cbmNvbnN0IGltYWdlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGltYWdlRm9ybUNvbmZpZywgaW1hZ2VGb3JtRWxlbWVudCk7XG5cbi8vY29udHJvbGFkb3JlcyBkZSBldmVudG9zIHBhcmEgYWJyaXIgcG9wdXBzXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5uYW1lO1xuICBlbXBsb3ltZW50SW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8uZW1wbG95bWVudDtcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICBwb3B1cFdpdGhVc2VySW5mby5vcGVuKCk7XG59KTtcblxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwV2l0aENhcmRJbmZvLm9wZW4oKTtcbiAgaW1hZ2VGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbn0pO1xuXG4vL2NvbnRyb2xhZG9yZXMgcGFyYSBib3RvbmVzIHN1Ym1pdFxuc3VibWl0QnV0dG9uUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgcG9wdXBXaXRoVXNlckluZm8uX3N1Ym1pdENhbGxiYWNrKCk7XG59KTtcblxuc3VibWl0QnV0dG9uSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHBvcHVwV2l0aENhcmRJbmZvLl9zdWJtaXRDYWxsYmFjaygpO1xufSk7Il0sIm5hbWVzIjpbIkNhcmQiLCJfcmVmIiwidGVtcGxhdGVTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX3VzZXJJZCIsIm93bmVyIiwiX2lkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJrZXkiLCJ2YWx1ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkRWxlbWVudCIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJsZW5ndGgiLCJ0b1N0cmluZyIsInVzZXJJZCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfZm9ybSIsIl9oYW5kbGVyT25Fc2MiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZXJTdXBDbG9zZSIsIl9oYW5kbGVTdXBlckNsb3NlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJfcmVtb3ZlTGlzdGVuZXJzIiwiY2xvc2UiLCJjb250YWlucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJQb3B1cFdpdGhGb3JtIiwiX3N1cGVyIiwic3VibWl0Q2FsbGJhY2siLCJjYWxsIiwiX3N1Ym1pdENhbGxiYWNrIiwiX3N1Ym1pdEJ1dHRvbiIsIl9oYW5kbGVyU3VibWl0IiwiX2hhbmRsZVN1Ym1pdCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfaGFuZGxlclN1Ym1pdE9uRW50ZXIiLCJfaGFubGRlU3VibWl0T25FbnRlciIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiX3Jlc2V0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl90aXRsZSIsInNyYyIsImFsdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJlbXBsb3ltZW50U2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfZW1wbG95bWVudEVsZW1lbnQiLCJlbXBsb3ltZW50IiwiX3JlZjIiLCJhYm91dCIsIkFwaSIsIm9wdGlvbnMiLCJiYXNlVXJsIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJ1c2VyRGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZFRlbXBsYXRlU2VsZWN0b3IiLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJpbWFnZUZvcm1FbGVtZW50IiwibmFtZUlucHV0IiwiZW1wbG95bWVudElucHV0IiwiYnV0dG9uRWRpdCIsImJ1dHRvbkFkZCIsInN1Ym1pdEJ1dHRvblByb2ZpbGUiLCJzdWJtaXRCdXR0b25JbWFnZSIsInBvcHVwV2l0aEltYWdlIiwidXNlckluZm8iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0VXNlckRhdGEiLCJjb25zb2xlIiwibG9nIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImluaXRpYWxDYXJkTGlzdCIsIm9wZW4iLCJnZXRVc2VySWQiLCJpc093bmVyIiwiY2FyZCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsInJlbmRlcmVySXRlbXMiLCJwb3B1cFdpdGhVc2VySW5mbyIsImZvcm1EYXRhIiwiX2dldElucHV0VmFsdWVzIiwidXBkYXRlVXNlckluZm8iLCJ1cGRhdGVVc2VyRGF0YSIsInBvcHVwV2l0aENhcmRJbmZvIiwiY2FyZERhdGEiLCJhZGRDYXJkIiwibmV3Q2FyZERhdGEiLCJuZXdDYXJkIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJpbWFnZUZvcm1WYWxpZGF0b3IiLCJjdXJyZW50VXNlckluZm8iLCJnZXRVc2VySW5mbyIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9